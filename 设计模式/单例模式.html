<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=	, initial-scale=1.0">
	<title>单例模式</title>
</head>
<body>
	<script>
		// 饿汉式
		const singleHunger = (function () {
			let instance;

			function Person(name) {
				this.name = name;
			}

			Person.prototype.say = function () {
				console.log("hello " + this.name);
			}

			return function () {
				if(instance) {
					return instance;
				}
				return new Person("小明");
			}
		})()

		const p = singleHunger();
		console.log(p);
		p.say();


		// 懒汉式
		const singleLazy = (function() {
			let instance = new Person("小明");;

			function Person(name) {
				this.name = name;
			}

			Person.prototype.say = function () {
				console.log("hello " + this.name);
			}

			return function () {
				return instance;
			}
		})();

		const p = singleLazy();
		console.log(p);
		p.say();
	</script>
</body>
</html>